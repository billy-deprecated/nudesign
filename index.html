<!--Nu Designs 6.813 project: inclass-->
<!DOCTYPE html>
<html>

<head>
<meta charset='utf-8'>
<title>inclass</title>

<!-- Load style sheets -->
<link rel='stylesheet' href=
  'https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.css'>
<link rel='stylesheet' href='assets/mainLayout.css'>
<link rel='stylesheet' href='assets/bulletin.css'>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Alegreya+Sans|Raleway'>
<link href="assets/flag-icon-css-master/assets/docs.css" rel="stylesheet">
  <link href="assets/flag-icon-css-master/css/flag-icon.css" rel="stylesheet">
<script src=
  'https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
<script src='templates.js'></script>

<script>

var MENU_ITEMS = ['#bulletin', '#grades', '#messages'];

var TEMPLATES = {'bulletin':'#bulletin_template', 'grades':'#grades_template', 'messages':'#messages_template'}

// mouse hover over or away from side menu option
$(document).on({
  // when mouse hovers a menu item that's not currently selected
  mouseenter: function(){
      if(!$(this).hasClass('selectedMenuItem')){
        $(this).addClass('hoveredMenuItem');
      }
  },
  // remove hovered class after mouse leaves
  mouseleave: function(){
      $(this).removeClass('hoveredMenuItem');
  }
}, '.menuItem');

// side menu option clicked
$(document).on('click', '.menuItem', function(evt){
  // if this item is already selected, do nothing
  if($(this).hasClass('selectedMenuItem')){
    return;
  }
  // unselect the current selected item
  for(var i in MENU_ITEMS){
    $(MENU_ITEMS[i]).removeClass('selectedMenuItem');
  }
  // select the new one
  $(this).removeClass('hovered');
  $(this).addClass('selectedMenuItem');

  // TODO: reload to new respective view
  var newMode = $(this).attr('id');
  $('#mode-panel').load("./"+newMode+".html", function(){
    if (newMode === 'messages') {
      populateMessages();
    }
  });
});

$(document).ready(function() {
  $("#bulletin").click();
});

function populateMessages(){
  var list = $("#messages-list");
  list.append("<div class='message'> <div class='received message-bubble' id='message-1'> <div class='message-time'>25 March, 2017</div>Hi, How are you?</div></div>");
  list.append("<div class='message'> <div class='received message-bubble' id='message-2'> <div class='message-time'>25 March, 2017</div>I posted grades for last week's quiz. You should go over it with Robby, he struggled.</div></div>");
  list.append("<div class='message'> <div class='sent message-bubble' id='message-3'> <div class='message-time'>25 March, 2017</div>Thanks for letting me know! I'll get right on that since he can't add to save his life.</div></div>");
  list.append("<div class='message'> <div class='received message-bubble' id='message-4'><div class='message-time'>25 March, 2017</div>Great, thanks fam.</div></div>");
  list.append("<div class='message'> <div class='sent message-bubble' id='message-5'><div class='message-time'>25 March, 2017</div>Got it bruh. Talk to you later</div></div>");
}

</script>

</head>

<body>
  <div id="sideMenu">
    <div id="logo"> inclass </div>
    <img id="menuPic" src="graphics/new-user.png">
    <div id="menuItems">
      <div class="menuItem" id ="bulletin">
        Bulletin
      </div>
      <div class="menuItem" id ="grades">
        Grades
      </div>
      <div class="menuItem" id ="messages">
        Messages
      </div>
    </div>
  </div>
  <div id="mainWindow">
    <div id="top-bar">
      <div class="welcome-message"> Hi Ruby!</div>
      <button class="btn btn-danger" type="button" id="logout-button">Logout</button>
      <div id="language-group">
        <div id="language-icon"><span class="flag-icon flag-icon-us"></div>
        <button class="btn btn-success" type="button" id="language-button">English</button>
      </div>

    </div>
    <div id="mode-panel">
    </div>
  </div>
</body>
</html>
