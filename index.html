<!--Nu Designs 6.813 project: inclass-->
<!DOCTYPE html>
<html>

<head>
<meta charset='utf-8'>
<title>inclass</title>
<script src=
  'https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
<!-- Load style sheets -->
<link rel='stylesheet' href=
  'bootstrap-3.3.7-dist/css/bootstrap.min.css'>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Alegreya+Sans|Raleway'>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<link rel="stylesheet" href="assets/mainLayout.css">
<link rel='stylesheet' href='assets/bulletin.css'>
<link href="assets/flag-icon-css-master/assets/docs.css" rel="stylesheet">
  <link href="assets/flag-icon-css-master/css/flag-icon.css" rel="stylesheet">

<script src='templates.js'></script>
<script src="comment.js"></script>
<script src="bulletinloader.js"></script>
<script>
languageVal = "English";
var MENU_ITEMS = ['#bulletin', '#grades', '#messages'];

var SUBJECTS = ['#Math', '#Reading', '#Science', '#Art']

var TEMPLATES = {'bulletin':'#bulletin_template', 'grades':'#grades_template', 'messages':'#messages_template'}

var MESSAGES = [
  {time: "15 March, 2017 1:00 PM", text: "Hi", sent: "received"},
  {time: "15 March, 2017 1:01 PM", text: "Hi, How are you?", sent: "sent"},
  {time: "15 March, 2017 1:02 PM", text: "I posted grades for last week's quiz. You should go over it with Robby, he struggled.", sent: "received"},
  {time: "15 March, 2017 1:03 PM", text: "Thanks for letting me know! I'll get right on that since he can't add to save his life.", sent: "sent"},
  {time: "15 March, 2017 1:04 PM", text: "Great, thanks fam.", sent: "received"},
  {time: "15 March, 2017 1:05 PM", text: "Got it bruh. Talk to you later", sent: "sent"}]

// mouse hover over or away from side menu option
$(document).on({
  // when mouse hovers a menu item that's not currently selected
  mouseenter: function(){
      if(!$(this).hasClass('selectedMenuItem')){
        $(this).addClass('hoveredMenuItem');
      }
  },
  // remove hovered class after mouse leaves
  mouseleave: function(){
      $(this).removeClass('hoveredMenuItem');
  }
}, '.menuItem');

// side menu option clicked
$(document).on('click', '.menuItem', function(evt){
  // if this item is already selected, do nothing
  if($(this).hasClass('selectedMenuItem')){
    return;
  }
  // unselect the current selected item
  for(var i in MENU_ITEMS){
    $(MENU_ITEMS[i]).removeClass('selectedMenuItem');
  }
  // select the new one
  $(this).removeClass('hoveredMenuItem');
  $(this).addClass('selectedMenuItem');

  // TODO: reload to new respective view
  var newMode = $(this).attr('id');
  $('#mode-panel').load("./"+newMode+".html", function(){
    if (newMode === 'messages') {
      $(".welcome-message").remove();
      text = $("#language-button").text();
      if (text == "English"){
        $("#top-bar").append("<div class='welcome-message'>"+"Messages" + "</div>");
      }else {
        $("#top-bar").append("<div class='welcome-message'>"+"Mensajes" + "</div>");
      }
      populateMessages();
    } else if (newMode == "bulletin"){
      $(".welcome-message").remove();
      text = $("#language-button").text();
      if (text == "English"){
        $("#top-bar").append("<div class='welcome-message'>"+"Bulletin" + "</div>");
        $("#biggcontainer").prepend($("<section class='section-title-bulletin'> Hi Ruby!</section>"))

      }else {
        $("#top-bar").append("<div class='welcome-message'>"+"Boletín" + "</div>");
        $("#biggcontainer").prepend($("<section class='section-title-bulletin'> ¡Hola Ruby! </section>"))
      }
      bootstrap(languageVal);
    }else if (newMode=="grades") {
      $(".welcome-message").remove();
      text = $("#language-button").text();
      if (text == "English"){
        $("#top-bar").append("<div class='welcome-message'>"+"Robby's Grades" + "</div>");
      }else {
        $("#top-bar").append("<div class='welcome-message'>"+"Robby's Grados" + "</div>");
      }
    }
  });
});

translation= {"Bulletin": "Boletín", "Robby's Grades":"Robby's Grados", "Messages":"Mensajes", "Boletín":"Bulletin", "Robby's Grados":"Grades", "Mensajes":"Messages"}

$(document).ready(function() {
  languageVal = $("#language-button").text();;
  $("#language-button").on("mouseover", function(e){
    currentVal = $(e.currentTarget).text();
    if (currentVal == "English"){
      $(e.currentTarget).text("Español")
    }else if(currentVal == "Español"){
      $(e.currentTarget).text("English")
    }
  });
  $("#language-button").on("mouseout", function(e){
    $(e.currentTarget).text(languageVal);
  });

  $("#language-button").on("click", function(e) {
      if (languageVal == "English"){
        languageVal = "Español"
      $("#bulletin").text("Boletín")
      $("#grades").text("Grados")
      $("#messages").text("Mensajes")
      $(".section-title-bulletin").text("¡Hola Ruby!");
      newText = translation[$(".welcome-message").text()];
      $(".welcome-message").text(newText)
      $(e.currentTarget).text("Español")
    }else if(languageVal == "Español"){
      languageVal = "English";
      $(e.currentTarget).text("English")
      $("#bulletin").text("Bulletin")
      $("#grades").text("Grades")
      $("#messages").text("Messages")
      $(".section-title-bulletin").text("Hi Ruby!");
      newText = translation[$(".welcome-message").text()];
      $(".welcome-message").text(newText)
    }
    bootstrap(languageVal);
    $(e.currentTarget).blur();
  });

  $("#bulletin").click();
});

$(document).on({
  // when mouse hovers a grade item
  mouseenter: function(){
    $(this).addClass('hoveredGrade');
  },
  // remove hovered class after mouse leaves
  mouseleave: function(){
    $(this).removeClass('hoveredGrade');
  }
}, '.subject');

// side menu option clicked
$(document).on('click', '.subject', function(evt){
  // if this subject is already selected, do nothing
  if($(this).hasClass('selectedGrade')){
    return;
  }

  var currentSubject;
  var newSubject;
  // unselect the current selected subject
  for(var i in SUBJECTS){
    if($(SUBJECTS[i]).hasClass('selectedGrade')){
      $(SUBJECTS[i]).removeClass('selectedGrade');
      currentSubject = SUBJECTS[i].slice(1);
    }
  }
  // remove hovered class and add selected class to new subject
  for(var i in SUBJECTS){
    if($(SUBJECTS[i]).hasClass('hoveredGrade')){
      $(SUBJECTS[i]).removeClass('hoveredGrade');
      $(SUBJECTS[i]).addClass('selectedGrade');
      newSubject = SUBJECTS[i].slice(1);
    }
  }
  var newTable=$("#assignmentstable").html().replace(new RegExp(currentSubject, 'g'), newSubject);
  $("#table").replaceWith(newTable);
});

function populateMessages(){
  var list = $("#messages-list");
  for (var i=0; i < MESSAGES.length; i++) {
    var msg = MESSAGES[i];
    list.append("<div class='message'> <div class='"+msg.sent+" message-bubble' id='message-1'> <div class='message-time'>"+msg.time+"</div>"+msg.text+"</div></div>");
  }
  list[0].scrollTop = list[0].scrollHeight;
}

</script>

</head>

<body>
  <div id="sideMenu">
    <div id="logo"> inclass </div>
    <img id="menuPic" src="graphics/ruby.png">
    <div id="menuItems">
      <div class="menuItem" id ="bulletin">
        Bulletin
      </div>
      <div class="menuItem" id ="grades">
        Grades
      </div>
      <div class="menuItem" id ="messages">
        Messages
      </div>
    </div>
  </div>
  <div id="mainWindow">
    <div id="top-bar">
      <button class="btn btn-danger" type="button" id="logout-button">Logout</button>
      <div id="language-group">
        <div id="language-icon">
          <img src="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDM5MCAzOTAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM5MCAzOTA7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMzJweCIgaGVpZ2h0PSIzMnB4Ij4KPHBhdGggZD0iTTE5NSwwQzg3LjMwNSwwLDAsODcuMzA0LDAsMTk1czg3LjMwNSwxOTUsMTk1LDE5NXMxOTUtODcuMzA0LDE5NS0xOTVTMzAyLjY5NSwwLDE5NSwweiBNMTE5LjUyNCw0NS42NzggIGMtMy40OTMsNC44MzgtNi44MzgsMTAuMDMzLTEwLjAwNywxNS42Yy00Ljg0MSw4LjUwMy05LjE2LDE3LjY1Ni0xMi45NDUsMjcuMzNjLTguMDY0LTIuMjItMTYuMDg5LTQuNzEzLTI0LjA2NC03LjQ4MyAgQzg1LjkxLDY2LjcxOCwxMDEuODEzLDU0LjY2NywxMTkuNTI0LDQ1LjY3OHogTTUyLjI5OCwxMDcuNjk0YzExLjQzOCw0LjI5MywyMi45NzYsOC4wNTYsMzQuNTkxLDExLjI5MyAgYy00Ljc4LDE4LjkzNC03Ljc0NCwzOS4xODItOC43NDUsNjAuMDg3aC00OS43MkMzMC44ODgsMTUzLjEwOCwzOS4zMDUsMTI4Ljg1Miw1Mi4yOTgsMTA3LjY5NHogTTUyLjI5OCwyODIuMzA2ICBjLTEyLjk5NC0yMS4xNTktMjEuNDExLTQ1LjQxNC0yMy44NzQtNzEuMzhoNDkuNzJjMS4wMDIsMjAuOTA1LDMuOTY1LDQxLjE1Myw4Ljc0NSw2MC4wODcgIEM3NS4yNzQsMjc0LjI1LDYzLjczNiwyNzguMDEzLDUyLjI5OCwyODIuMzA2eiBNNzIuNTA4LDMwOC44NzZjNy45NzUtMi43NywxNi01LjI2NSwyNC4wNjMtNy40ODMgIGMzLjc4Niw5LjY3NCw4LjEwNSwxOC44MjcsMTIuOTQ2LDI3LjMzYzMuMTY4LDUuNTY2LDYuNTE0LDEwLjc2MiwxMC4wMDcsMTUuNkMxMDEuODEzLDMzNS4zMzMsODUuOTEsMzIzLjI4Myw3Mi41MDgsMzA4Ljg3NnogICBNMTc5LjA3NCwzNTQuMDdjLTIwLjM5My03LjY0OC0zOC40NTgtMjkuNTkzLTUxLjA1LTU5Ljg5NGMxNi45MzEtMy4xMjUsMzMuOTc3LTUuMDU5LDUxLjA1LTUuOFYzNTQuMDd6IE0xNzkuMDc0LDI1Ni40NTQgIGMtMjAuNDQ4LDAuODE4LTQwLjg2MiwzLjIyMS02MS4xMTcsNy4xOTFjLTQuMTYtMTYuMzU1LTYuOTA4LTM0LjEzLTcuOTE1LTUyLjcyaDY5LjAzMlYyNTYuNDU0eiBNMTc5LjA3NCwxNzkuMDc0aC02OS4wMzIgIGMxLjAwNy0xOC41OSwzLjc1NS0zNi4zNjUsNy45MTUtNTIuNzJjMjAuMjU0LDMuOTcxLDQwLjY2OSw2LjM3Myw2MS4xMTcsNy4xOTFWMTc5LjA3NHogTTE3OS4wNzQsMTAxLjYyMyAgYy0xNy4wNzMtMC43NDEtMzQuMTE4LTIuNjc1LTUxLjA1LTUuOGMxMi41OTItMzAuMzAxLDMwLjY1Ny01Mi4yNDUsNTEuMDUtNTkuODk0VjEwMS42MjN6IE0zMzcuNzAzLDEwNy42OTcgIGMxMi45OTMsMjEuMTU3LDIxLjQwOSw0NS40MTIsMjMuODcyLDcxLjM3N2gtNDkuNzJjLTEuMDAxLTIwLjkwMy0zLjk2NS00MS4xNTEtOC43NDQtNjAuMDgzICBDMzE0LjcyNywxMTUuNzU0LDMyNi4yNjYsMTExLjk5MiwzMzcuNzAzLDEwNy42OTd6IE0zMTcuNDk1LDgxLjEyOGMtNy45NzUsMi43Ny0xNiw1LjI2NS0yNC4wNjUsNy40ODQgIGMtMy43ODYtOS42NzYtOC4xMDUtMTguODMxLTEyLjk0Ny0yNy4zMzVjLTMuMTY5LTUuNTY2LTYuNTE0LTEwLjc2Mi0xMC4wMDYtMTUuNkMyODguMTg5LDU0LjY2OCwzMDQuMDkyLDY2LjcyLDMxNy40OTUsODEuMTI4eiAgIE0yMTAuOTI2LDM1LjkzYzIwLjM5Myw3LjY0OCwzOC40NTksMjkuNTk1LDUxLjA1MSw1OS44OThjLTE2LjkzMSwzLjEyNC0zMy45NzcsNS4wNTctNTEuMDUxLDUuNzk3VjM1LjkzeiBNMjEwLjkyNiwxMzMuNTQ3ICBjMjAuNDUtMC44MTcsNDAuODY1LTMuMjE5LDYxLjExOC03LjE4OGM0LjE2LDE2LjM1NCw2LjkwNywzNC4xMjgsNy45MTQsNTIuNzE2aC02OS4wMzJWMTMzLjU0N3ogTTIxMC45MjYsMjEwLjkyNmg2OS4wMzIgIGMtMS4wMDcsMTguNTg4LTMuNzU0LDM2LjM2Mi03LjkxNCw1Mi43MTZjLTIwLjI1My0zLjk3LTQwLjY2OC02LjM3MS02MS4xMTgtNy4xODlWMjEwLjkyNnogTTIxMC45MjYsMzU0LjA3di02NS42OTQgIGMxNy4wNzUsMC43NDEsMzQuMTIxLDIuNjczLDUxLjA1MSw1Ljc5OEMyNDkuMzg1LDMyNC40NzUsMjMxLjMxOSwzNDYuNDIyLDIxMC45MjYsMzU0LjA3eiBNMjcwLjQ3NywzNDQuMzIyICBjMy40OTMtNC44MzgsNi44MzgtMTAuMDMzLDEwLjAwNi0xNS42YzQuODQyLTguNTA0LDkuMTYxLTE3LjY1OSwxMi45NDctMjcuMzM0YzguMDY0LDIuMjIsMTYuMDg5LDQuNzE0LDI0LjA2NSw3LjQ4NCAgQzMwNC4wOTIsMzIzLjI4LDI4OC4xODksMzM1LjMzMiwyNzAuNDc3LDM0NC4zMjJ6IE0zMzcuNzAzLDI4Mi4zMDRjLTExLjQzNy00LjI5Ni0yMi45NzYtOC4wNTgtMzQuNTkxLTExLjI5NiAgYzQuNzc5LTE4LjkzMiw3Ljc0Mi0zOS4xNzksOC43NDQtNjAuMDgyaDQ5LjcyQzM1OS4xMTIsMjM2Ljg5MSwzNTAuNjk2LDI2MS4xNDYsMzM3LjcwMywyODIuMzA0eiIgZmlsbD0iIzAwMDAwMCIvPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K" />
        </div>
        <button class="btn btn-success" type="button" id="language-button">English</button>
      </div>

    </div>
    <div id="mode-panel">
    </div>
  </div>
</body>
</html>
